!function(a){"function"==typeof define&&define.amd?define(["jquery","block_filescan/jquery.dataTables"],function(b){return a(b,window,document)}):"object"==typeof exports?module.exports=function(b,c){return b||(b=window),c&&c.fn.dataTable||(c=require("datatables.net")(b,c).$),a(c,b,b.document)}:a(jQuery,window,document)}(function(a,b,c,d){"use strict";function e(a){var b=new f.Api(a),c=b.init().buttons||f.defaults.buttons;return new j(b,c).container()}var f=a.fn.dataTable,g=0,h=0,i=f.ext.buttons,j=function(b,c){return this instanceof j?("undefined"==typeof c&&(c={}),c===!0&&(c={}),a.isArray(c)&&(c={buttons:c}),this.c=a.extend(!0,{},j.defaults,c),c.buttons&&(this.c.buttons=c.buttons),this.s={dt:new f.Api(b),buttons:[],listenKeys:"",namespace:"dtb"+g++},this.dom={container:a("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},void this._constructor()):function(a){return new j(a,b).container()}};a.extend(j.prototype,{action:function(a,b){var c=this._nodeToButton(a);return b===d?c.conf.action:(c.conf.action=b,this)},active:function(b,c){var e=this._nodeToButton(b),f=this.c.dom.button.active,g=a(e.node);return c===d?g.hasClass(f):(g.toggleClass(f,c===d||c),this)},add:function(a,b){var c=this.s.buttons;if("string"==typeof b){for(var e=b.split("-"),f=this.s,g=0,h=e.length-1;g<h;g++)f=f.buttons[1*e[g]];c=f.buttons,b=1*e[e.length-1]}return this._expandButton(c,a,f!==d,b),this._draw(),this},container:function(){return this.dom.container},disable:function(b){var c=this._nodeToButton(b);return a(c.node).addClass(this.c.dom.button.disabled),this},destroy:function(){a("body").off("keyup."+this.s.namespace);var b,c,d=this.s.buttons.slice();for(b=0,c=d.length;b<c;b++)this.remove(d[b].node);this.dom.container.remove();var e=this.s.dt.settings()[0];for(b=0,c=e.length;b<c;b++)if(e.inst===this){e.splice(b,1);break}return this},enable:function(b,c){if(c===!1)return this.disable(b);var d=this._nodeToButton(b);return a(d.node).removeClass(this.c.dom.button.disabled),this},name:function(){return this.c.name},node:function(b){if(!b)return this.dom.container;var c=this._nodeToButton(b);return a(c.node)},processing:function(b,c){var e=this.s.dt,f=this._nodeToButton(b);return c===d?a(f.node).hasClass("processing"):(a(f.node).toggleClass("processing",c),a(e.table().node()).triggerHandler("buttons-processing.dt",[c,e.button(b),e,a(b),f.conf]),this)},remove:function(b){var c=this._nodeToButton(b),d=this._nodeToHost(b),e=this.s.dt;if(c.buttons.length)for(var f=c.buttons.length-1;f>=0;f--)this.remove(c.buttons[f].node);c.conf.destroy&&c.conf.destroy.call(e.button(b),e,a(b),c.conf),this._removeKey(c.conf),a(c.node).remove();var g=a.inArray(c,d);return d.splice(g,1),this},text:function(b,c){var e=this._nodeToButton(b),f=this.c.dom.collection.buttonLiner,g=e.inCollection&&f&&f.tag?f.tag:this.c.dom.buttonLiner.tag,h=this.s.dt,i=a(e.node),j=function(a){return"function"==typeof a?a(h,i,e.conf):a};return c===d?j(e.conf.text):(e.conf.text=c,g?i.children(g).html(j(c)):i.html(j(c)),this)},_constructor:function(){var b=this,d=this.s.dt,e=d.settings()[0],f=this.c.buttons;e._buttons||(e._buttons=[]),e._buttons.push({inst:this,name:this.c.name});for(var g=0,h=f.length;g<h;g++)this.add(f[g]);d.on("destroy",function(a,c){c===e&&b.destroy()}),a("body").on("keyup."+this.s.namespace,function(a){if(!c.activeElement||c.activeElement===c.body){var d=String.fromCharCode(a.keyCode).toLowerCase();b.s.listenKeys.toLowerCase().indexOf(d)!==-1&&b._keypress(d,a)}})},_addKey:function(b){b.key&&(this.s.listenKeys+=a.isPlainObject(b.key)?b.key.key:b.key)},_draw:function(a,b){a||(a=this.dom.container,b=this.s.buttons),a.children().detach();for(var c=0,d=b.length;c<d;c++)a.append(b[c].inserter),a.append(" "),b[c].buttons&&b[c].buttons.length&&this._draw(b[c].collection,b[c].buttons)},_expandButton:function(b,c,e,f){for(var g=this.s.dt,h=0,i=a.isArray(c)?c:[c],j=0,k=i.length;j<k;j++){var l=this._resolveExtends(i[j]);if(l)if(a.isArray(l))this._expandButton(b,l,e,f);else{var m=this._buildButton(l,e);m&&(f!==d?(b.splice(f,0,m),f++):b.push(m),m.conf.buttons&&(m.collection=a("<"+this.c.dom.collection.tag+"/>"),m.conf._collection=m.collection,this._expandButton(m.buttons,m.conf.buttons,!0,f)),l.init&&l.init.call(g.button(m.node),g,a(m.node),l),h++)}}},_buildButton:function(b,c){var e=this.c.dom.button,f=this.c.dom.buttonLiner,g=this.c.dom.collection,i=this.s.dt,j=function(a){return"function"==typeof a?a(i,n,b):a};if(c&&g.button&&(e=g.button),c&&g.buttonLiner&&(f=g.buttonLiner),b.available&&!b.available(i,b))return!1;var k=function(b,c,d,e){e.action.call(c.button(d),b,c,d,e),a(c.table().node()).triggerHandler("buttons-action.dt",[c.button(d),c,d,e])},l=b.tag||e.tag,m=b.clickBlurs===d||b.clickBlurs,n=a("<"+l+"/>").addClass(e.className).attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(a){a.preventDefault(),!n.hasClass(e.disabled)&&b.action&&k(a,i,n,b),m&&n.blur()}).on("keyup.dtb",function(a){13===a.keyCode&&!n.hasClass(e.disabled)&&b.action&&k(a,i,n,b)});if("a"===l.toLowerCase()&&n.attr("href","#"),"button"===l.toLowerCase()&&n.attr("type","button"),f.tag){var o=a("<"+f.tag+"/>").html(j(b.text)).addClass(f.className);"a"===f.tag.toLowerCase()&&o.attr("href","#"),n.append(o)}else n.html(j(b.text));b.enabled===!1&&n.addClass(e.disabled),b.className&&n.addClass(b.className),b.titleAttr&&n.attr("title",j(b.titleAttr)),b.attr&&n.attr(b.attr),b.namespace||(b.namespace=".dt-button-"+h++);var p,q=this.c.dom.buttonContainer;return p=q&&q.tag?a("<"+q.tag+"/>").addClass(q.className).append(n):n,this._addKey(b),this.c.buttonCreated&&(p=this.c.buttonCreated(b,p)),{conf:b,node:n.get(0),inserter:p,buttons:[],inCollection:c,collection:null}},_nodeToButton:function(a,b){b||(b=this.s.buttons);for(var c=0,d=b.length;c<d;c++){if(b[c].node===a)return b[c];if(b[c].buttons.length){var e=this._nodeToButton(a,b[c].buttons);if(e)return e}}},_nodeToHost:function(a,b){b||(b=this.s.buttons);for(var c=0,d=b.length;c<d;c++){if(b[c].node===a)return b;if(b[c].buttons.length){var e=this._nodeToHost(a,b[c].buttons);if(e)return e}}},_keypress:function(b,c){if(!c._buttonsHandled){var d=function(d,e){if(d.key)if(d.key===b)c._buttonsHandled=!0,a(e).click();else if(a.isPlainObject(d.key)){if(d.key.key!==b)return;if(d.key.shiftKey&&!c.shiftKey)return;if(d.key.altKey&&!c.altKey)return;if(d.key.ctrlKey&&!c.ctrlKey)return;if(d.key.metaKey&&!c.metaKey)return;c._buttonsHandled=!0,a(e).click()}},e=function(a){for(var b=0,c=a.length;b<c;b++)d(a[b].conf,a[b].node),a[b].buttons.length&&e(a[b].buttons)};e(this.s.buttons)}},_removeKey:function(b){if(b.key){var c=a.isPlainObject(b.key)?b.key.key:b.key,d=this.s.listenKeys.split(""),e=a.inArray(c,d);d.splice(e,1),this.s.listenKeys=d.join("")}},_resolveExtends:function(b){var c,e,f=this.s.dt,g=function(c){for(var e=0;!a.isPlainObject(c)&&!a.isArray(c);){if(c===d)return;if("function"==typeof c){if(c=c(f,b),!c)return!1}else if("string"==typeof c){if(!i[c])throw"Unknown button type: "+c;c=i[c]}if(e++,e>30)throw"Buttons: Too many iterations"}return a.isArray(c)?c:a.extend({},c)};for(b=g(b);b&&b.extend;){if(!i[b.extend])throw"Cannot extend unknown button type: "+b.extend;var h=g(i[b.extend]);if(a.isArray(h))return h;if(!h)return!1;var j=h.className;b=a.extend({},h,b),j&&b.className!==j&&(b.className=j+" "+b.className);var k=b.postfixButtons;if(k){for(b.buttons||(b.buttons=[]),c=0,e=k.length;c<e;c++)b.buttons.push(k[c]);b.postfixButtons=null}var l=b.prefixButtons;if(l){for(b.buttons||(b.buttons=[]),c=0,e=l.length;c<e;c++)b.buttons.splice(c,0,l[c]);b.prefixButtons=null}b.extend=h.extend}return b},_popover:function(d,e,f){var g=e,h=this.c,i=a.extend({align:"button-left",autoClose:!1,background:!0,backgroundClassName:"dt-button-background",contentClassName:h.dom.collection.className,collectionLayout:"",collectionTitle:"",dropup:!1,fade:400,rightAlignClassName:"dt-button-right",tag:h.dom.collection.tag},f),k=e.node(),l=function(){a(".dt-button-collection").stop().fadeOut(i.fade,function(){a(this).detach()}),a(g.buttons('[aria-haspopup="true"][aria-expanded="true"]').nodes()).attr("aria-expanded","false"),a("div.dt-button-background").off("click.dtb-collection"),j.background(!1,i.backgroundClassName,i.fade,k),a("body").off(".dtb-collection"),g.off("buttons-action.b-internal")};d===!1&&l();var m=a(g.buttons('[aria-haspopup="true"][aria-expanded="true"]').nodes());m.length&&(k=m.eq(0),l());var n=a("<div/>").addClass("dt-button-collection").addClass(i.collectionLayout).css("display","none");d=a(d).addClass(i.contentClassName).attr("role","menu").appendTo(n),k.attr("aria-expanded","true"),k.parents("body")[0]!==c.body&&(k=c.body.lastChild),i.collectionTitle&&n.prepend('<div class="dt-button-collection-title">'+i.collectionTitle+"</div>"),n.insertAfter(k).fadeIn(i.fade);var o=a(e.table().container()),p=n.css("position");if("dt-container"===i.align&&(k=k.parent(),n.css("width",o.width())),"absolute"===p){var q=k.position();n.css({top:q.top+k.outerHeight(),left:q.left});var r=n.outerHeight(),s=n.outerWidth(),t=o.offset().top+o.height(),u=q.top+k.outerHeight()+r,v=u-t,w=q.top-r,x=o.offset().top,y=x-w,z=q.top-r-5;(v>y||i.dropup)&&-z<x&&n.css("top",z),(n.hasClass(i.rightAlignClassName)||"button-right"===i.align)&&n.css("left",q.left+k.outerWidth()-s);var A=q.left+s,B=o.offset().left+o.width();A>B&&n.css("left",q.left-(A-B));var C=k.offset().left+s;C>a(b).width()&&n.css("left",q.left-(C-a(b).width()))}else{var D=n.height()/2;D>a(b).height()/2&&(D=a(b).height()/2),n.css("marginTop",D*-1)}i.background&&j.background(!0,i.backgroundClassName,i.fade,k),a("div.dt-button-background").on("click.dtb-collection",function(){}),a("body").on("click.dtb-collection",function(b){var c=a.fn.addBack?"addBack":"andSelf";a(b.target).parents()[c]().filter(d).length||l()}).on("keyup.dtb-collection",function(a){27===a.keyCode&&l()}),i.autoClose&&setTimeout(function(){g.on("buttons-action.b-internal",function(a,b,c,d){d[0]!==k[0]&&l()})},0)}}),j.background=function(b,e,f,g){f===d&&(f=400),g||(g=c.body),b?a("<div/>").addClass(e).css("display","none").insertAfter(g).stop().fadeIn(f):a("div."+e).stop().fadeOut(f,function(){a(this).removeClass(e).remove()})},j.instanceSelector=function(b,c){if(b===d||null===b)return a.map(c,function(a){return a.inst});var e=[],f=a.map(c,function(a){return a.name}),g=function(b){if(a.isArray(b))for(var d=0,h=b.length;d<h;d++)g(b[d]);else if("string"==typeof b)if(b.indexOf(",")!==-1)g(b.split(","));else{var i=a.inArray(a.trim(b),f);i!==-1&&e.push(c[i].inst)}else"number"==typeof b&&e.push(c[b].inst)};return g(b),e},j.buttonSelector=function(b,c){for(var e=[],f=function(a,b,c){for(var e,g,h=0,i=b.length;h<i;h++)e=b[h],e&&(g=c!==d?c+h:h+"",a.push({node:e.node,name:e.conf.name,idx:g}),e.buttons&&f(a,e.buttons,g+"-"))},g=function(b,c){var h,i,j=[];f(j,c.s.buttons);var k=a.map(j,function(a){return a.node});if(a.isArray(b)||b instanceof a)for(h=0,i=b.length;h<i;h++)g(b[h],c);else if(null===b||b===d||"*"===b)for(h=0,i=j.length;h<i;h++)e.push({inst:c,node:j[h].node});else if("number"==typeof b)e.push({inst:c,node:c.s.buttons[b].node});else if("string"==typeof b)if(b.indexOf(",")!==-1){var l=b.split(",");for(h=0,i=l.length;h<i;h++)g(a.trim(l[h]),c)}else if(b.match(/^\d+(\-\d+)*$/)){var m=a.map(j,function(a){return a.idx});e.push({inst:c,node:j[a.inArray(b,m)].node})}else if(b.indexOf(":name")!==-1){var n=b.replace(":name","");for(h=0,i=j.length;h<i;h++)j[h].name===n&&e.push({inst:c,node:j[h].node})}else a(k).filter(b).each(function(){e.push({inst:c,node:this})});else if("object"==typeof b&&b.nodeName){var o=a.inArray(b,k);o!==-1&&e.push({inst:c,node:k[o]})}},h=0,i=b.length;h<i;h++){var j=b[h];g(c,j)}return e},j.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:""},button:{tag:"ActiveXObject"in b?"a":"button",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"span",className:""}}},j.version="1.6.1",a.extend(i,{collection:{text:function(a){return a.i18n("buttons.collection","Collection")},className:"buttons-collection",init:function(a,b,c){b.attr("aria-expanded",!1)},action:function(a,b,c,d){a.stopPropagation(),d._collection.parents("body").length?this.popover(!1,d):this.popover(d._collection,d)},attr:{"aria-haspopup":!0}},copy:function(a,b){return i.copyHtml5?"copyHtml5":i.copyFlash&&i.copyFlash.available(a,b)?"copyFlash":void 0},csv:function(a,b){return i.csvHtml5&&i.csvHtml5.available(a,b)?"csvHtml5":i.csvFlash&&i.csvFlash.available(a,b)?"csvFlash":void 0},excel:function(a,b){return i.excelHtml5&&i.excelHtml5.available(a,b)?"excelHtml5":i.excelFlash&&i.excelFlash.available(a,b)?"excelFlash":void 0},pdf:function(a,b){return i.pdfHtml5&&i.pdfHtml5.available(a,b)?"pdfHtml5":i.pdfFlash&&i.pdfFlash.available(a,b)?"pdfFlash":void 0},pageLength:function(b){var c=b.settings()[0].aLengthMenu,d=a.isArray(c[0])?c[0]:c,e=a.isArray(c[0])?c[1]:c,f=function(a){return a.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},a.page.len())};return{extend:"collection",text:f,className:"buttons-page-length",autoClose:!0,buttons:a.map(d,function(a,b){return{text:e[b],className:"button-page-length",action:function(b,c){c.page.len(a).draw()},init:function(b,c,d){var e=this,f=function(){e.active(b.page.len()===a)};b.on("length.dt"+d.namespace,f),f()},destroy:function(a,b,c){a.off("length.dt"+c.namespace)}}}),init:function(a,b,c){var d=this;a.on("length.dt"+c.namespace,function(){d.text(c.text)})},destroy:function(a,b,c){a.off("length.dt"+c.namespace)}}}}),f.Api.register("buttons()",function(a,b){b===d&&(b=a,a=d),this.selector.buttonGroup=a;var c=this.iterator(!0,"table",function(c){if(c._buttons)return j.buttonSelector(j.instanceSelector(a,c._buttons),b)},!0);return c._groupSelector=a,c}),f.Api.register("button()",function(a,b){var c=this.buttons(a,b);return c.length>1&&c.splice(1,c.length),c}),f.Api.registerPlural("buttons().active()","button().active()",function(a){return a===d?this.map(function(a){return a.inst.active(a.node)}):this.each(function(b){b.inst.active(b.node,a)})}),f.Api.registerPlural("buttons().action()","button().action()",function(a){return a===d?this.map(function(a){return a.inst.action(a.node)}):this.each(function(b){b.inst.action(b.node,a)})}),f.Api.register(["buttons().enable()","button().enable()"],function(a){return this.each(function(b){b.inst.enable(b.node,a)})}),f.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(a){a.inst.disable(a.node)})}),f.Api.registerPlural("buttons().nodes()","button().node()",function(){var b=a();return a(this.each(function(a){b=b.add(a.inst.node(a.node))})),b}),f.Api.registerPlural("buttons().processing()","button().processing()",function(a){return a===d?this.map(function(a){return a.inst.processing(a.node)}):this.each(function(b){b.inst.processing(b.node,a)})}),f.Api.registerPlural("buttons().text()","button().text()",function(a){return a===d?this.map(function(a){return a.inst.text(a.node)}):this.each(function(b){b.inst.text(b.node,a)})}),f.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(a){a.inst.node(a.node).trigger("click")})}),f.Api.register("button().popover()",function(a,b){return this.map(function(c){return c.inst._popover(a,this.button(this[0].node),b)})}),f.Api.register("buttons().containers()",function(){var b=a(),c=this._groupSelector;return this.iterator(!0,"table",function(a){if(a._buttons)for(var d=j.instanceSelector(c,a._buttons),e=0,f=d.length;e<f;e++)b=b.add(d[e].container())}),b}),f.Api.register("buttons().container()",function(){return this.containers().eq(0)}),f.Api.register("button().add()",function(a,b){var c=this.context;if(c.length){var d=j.instanceSelector(this._groupSelector,c[0]._buttons);d.length&&d[0].add(b,a)}return this.button(this._groupSelector,a)}),f.Api.register("buttons().destroy()",function(){return this.pluck("inst").unique().each(function(a){a.destroy()}),this}),f.Api.registerPlural("buttons().remove()","buttons().remove()",function(){return this.each(function(a){a.inst.remove(a.node)}),this});var k;f.Api.register("buttons.info()",function(b,c,e){var f=this;return b===!1?(this.off("destroy.btn-info"),a("#datatables_buttons_info").fadeOut(function(){a(this).remove()}),clearTimeout(k),k=null,this):(k&&clearTimeout(k),a("#datatables_buttons_info").length&&a("#datatables_buttons_info").remove(),b=b?"<h2>"+b+"</h2>":"",a('<div id="datatables_buttons_info" class="dt-button-info"/>').html(b).append(a("<div/>")["string"==typeof c?"html":"append"](c)).css("display","none").appendTo("body").fadeIn(),e!==d&&0!==e&&(k=setTimeout(function(){f.buttons.info(!1)},e)),this.on("destroy.btn-info",function(){f.buttons.info(!1)}),this)}),f.Api.register("buttons.exportData()",function(a){if(this.context.length)return q(new f.Api(this.context[0]),a)}),f.Api.register("buttons.exportInfo()",function(a){return a||(a={}),{filename:l(a),title:n(a),messageTop:o(this,a.message||a.messageTop,"top"),messageBottom:o(this,a.messageBottom,"bottom")}});var l=function(b){var c="*"===b.filename&&"*"!==b.title&&b.title!==d&&null!==b.title&&""!==b.title?b.title:b.filename;if("function"==typeof c&&(c=c()),c===d||null===c)return null;c.indexOf("*")!==-1&&(c=a.trim(c.replace("*",a("head > title").text()))),c=c.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,"");var e=m(b.extension);return e||(e=""),c+e},m=function(a){return null===a||a===d?null:"function"==typeof a?a():a},n=function(b){var c=m(b.title);return null===c?null:c.indexOf("*")!==-1?c.replace("*",a("head > title").text()||"Exported data"):c},o=function(b,c,d){var e=m(c);if(null===e)return null;var f=a("caption",b.table().container()).eq(0);if("*"===e){var g=f.css("caption-side");return g!==d?null:f.length?f.text():""}return e},p=a("<textarea/>")[0],q=function(b,c){var e=a.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(a){return f(a)},footer:function(a){return f(a)},body:function(a){return f(a)}},customizeData:null},c),f=function(a){return"string"!=typeof a?a:(a=a.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""),a=a.replace(/<!\-\-.*?\-\->/g,""),e.stripHtml&&(a=a.replace(/<[^>]*>/g,"")),e.trim&&(a=a.replace(/^\s+|\s+$/g,"")),e.stripNewlines&&(a=a.replace(/\n/g," ")),e.decodeEntities&&(p.innerHTML=a,a=p.value),a)},g=b.columns(e.columns).indexes().map(function(a){var c=b.column(a).header();return e.format.header(c.innerHTML,a,c)}).toArray(),h=b.table().footer()?b.columns(e.columns).indexes().map(function(a){var c=b.column(a).footer();return e.format.footer(c?c.innerHTML:"",a,c)}).toArray():null,i=a.extend({},e.modifier);b.select&&"function"==typeof b.select.info&&i.selected===d&&b.rows(e.rows,a.extend({selected:!0},i)).any()&&a.extend(i,{selected:!0});for(var j=b.rows(e.rows,i).indexes().toArray(),k=b.cells(j,e.columns),l=k.render(e.orthogonal).toArray(),m=k.nodes().toArray(),n=g.length,o=n>0?l.length/n:0,q=[],r=0,s=0,t=o;s<t;s++){for(var u=[n],v=0;v<n;v++)u[v]=e.format.body(l[r],s,v,m[r]),r++;q[s]=u}var w={header:g,footer:h,body:q};return e.customizeData&&e.customizeData(w),w};return a.fn.dataTable.Buttons=j,a.fn.DataTable.Buttons=j,a(c).on("init.dt plugin-init.dt",function(a,b){if("dt"===a.namespace){var c=b.oInit.buttons||f.defaults.buttons;c&&!b._buttons&&new j(b,c).container()}}),f.ext.feature.push({fnInit:e,cFeature:"B"}),f.ext.features&&f.ext.features.register("buttons",e),j});